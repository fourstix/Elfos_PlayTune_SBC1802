; -------------------------------------------------------------------
; Play a demo tune through the SPBC1802 AY-3-8912 music chips
; Copyright 2024 by Gaston Williams
; -------------------------------------------------------------------
; Based on software written by Michael H Riley
; Thanks to the author for making this code available.
; Original author copyright notice:
; *******************************************************************
; *** This software is copyright 2004 by Michael H Riley          ***
; *** You have permission to use, modify, copy, and distribute    ***
; *** this software so long as this copyright notice is retained. ***
; *** This software may not be used in commercial applications    ***
; *** without express written permission from the author.         ***
; *******************************************************************

#include ../include/ops.inc
#include ../include/bios.inc
#include ../include/kernel.inc
#include ../include/psg_sbc1802.inc

            org     2000h
start:      br      play

            
; Build information

ever

db    'Copyright 2025 by Gaston Williams',0

play:   LOAD rf, music		    ; point to the test music
       	CALL psg_player       ; and play it!
        RETURN
  
        
        ; Minuet in G Major converted with midistream
music:  db	$90, $56, $91, $4A, $92, $47, $93, $43, $01, $90, $90, $4F
        db	$00, $C8, $90, $51, $00, $C1, $94, $45, $00, $06, $90, $53
        db	$81, $82, $83, $00, $C5, $91, $54, $00, $03, $80, $00, $C2
	      db  $90, $47, $84, $00, $03, $91, $56, $01, $90, $81, $00, $07
	      db	$91, $4F, $00, $C8, $81, $00, $C1, $91, $4F, $01, $8D, $90
	      db	$48, $00, $03, $91, $58, $01, $90, $81, $00, $03, $91, $54
	      db	$00, $C5, $92, $56, $00, $03, $81, $00, $C5, $91, $58, $82
	      db	$00, $C8, $91, $5A, $00, $BE, $92, $47, $00, $07, $80, $00
	      db	$03, $81, $00, $03, $90, $5B, $01, $90, $90, $4F, $00, $C8
	      db	$80, $00, $C5, $90, $4F, $01, $86, $82, $00, $07, $91, $45
	      db	$00, $03, $80, $00, $03, $90, $54, $01, $90, $90, $56, $00
	      db	$C8, $90, $54, $00, $C5, $92, $53, $00, $03, $80, $00, $C5
	      db	$90, $51, $82, $00, $C5, $81, $00, $03, $90, $43, $00, $07
	      db	$91, $53, $01, $8C, $92, $54, $00, $04, $81, $00, $C4, $91
	      db	$53, $82, $00, $C8, $91, $51, $00, $C8, $91, $4F, $00, $C5
      	db	$80, $00, $03, $90, $4E, $91, $4A, $00, $64, $81, $01, $29
      	db	$91, $4F, $92, $47, $00, $03, $80, $00, $61, $82, $00, $64
      	db	$90, $51, $81, $00, $C8, $90, $43, $00, $03, $91, $53, $00
      	db	$61, $80, $00, $67, $90, $4F, $81, $00, $C2, $91, $4A, $00
      	db	$06, $80, $00, $07, $90, $53, $00, $35, $92, $54, $00, $18
      	db	$80, $00, $2B, $82, $00, $0A, $90, $53, $00, $39, $92, $54
      	db	$00, $0A, $80, $00, $38, $82, $00, $25, $90, $53, $00, $43
      	db	$80, $00, $1E, $81, $00, $03, $90, $3E, $00, $03, $91, $51
      	db	$00, $C5, $80, $00, $03, $90, $48, $00, $C5, $92, $47, $00
      	db	$03, $80, $00, $C5, $90, $45, $82, $00, $C8, $80, $00, $03
      	db	$90, $56, $91, $47, $01, $90, $80, $00, $04, $90, $4F, $00
      	db	$C1, $92, $51, $00, $07, $80, $00, $BE, $90, $45, $00, $03
      	db	$82, $00, $03, $81, $00, $04, $91, $53, $00, $C8, $91, $54
      	db	$00, $BE, $90, $43, $00, $0A, $91, $56, $01, $86, $80, $00
      	db	$03, $90, $47, $00, $07, $91, $4F, $00, $C1, $80, $00, $07
      	db	$81, $00, $BE, $90, $43, $00, $06, $91, $4F, $01, $8A, $90
      	db	$48, $00, $03, $92, $58, $00, $03, $81, $01, $8A, $91, $54
      	db	$00, $03, $82, $00, $C5, $91, $56, $00, $C8, $91, $58, $00
      	db	$C4, $92, $5A, $00, $04, $81, $00, $C4, $82, $00, $04, $80
      	db	$00, $03, $90, $5B, $91, $47, $01, $8D, $92, $4F, $00, $03
      	db	$80, $81, $00, $03, $90, $48, $00, $C2, $91, $47, $82, $00
      	db	$06, $80, $00, $C2, $90, $4F, $91, $45, $00, $C8, $91, $43
      	db	$00, $C8, $90, $54, $81, $00, $03, $91, $45, $01, $8D, $80
      	db	$00, $06, $90, $56, $00, $C8, $90, $54, $00, $C5, $91, $42
      	db	$00, $03, $90, $53, $00, $BE, $92, $51, $00, $0A, $80, $00
      	db	$BE, $82, $00, $04, $90, $53, $00, $03, $91, $43, $01, $86
      	db	$92, $54, $00, $07, $80, $00, $C1, $90, $53, $82, $00, $C8
      	db	$80, $00, $03, $90, $51, $00, $04, $92, $47, $00, $03, $81
      	db	$00, $C1, $90, $4F, $00, $C8, $80, $00, $04, $90, $48, $82
      	db	$00, $03, $91, $51, $01, $94, $92, $4A, $00, $03, $93, $53
      	db	$80, $00, $04, $81, $00, $D3, $90, $51, $00, $6A, $83, $00
      	db	$6F, $82, $00, $04, $91, $3E, $00, $03, $92, $4F, $00, $0F
      	db	$80, $00, $C9, $82, $00, $10, $90, $4E, $00, $E3, $81, $00
      	db	$04, $91, $43, $00, $08, $92, $4F, $00, $04, $80, $03, $B0
      	db	$81, $00, $04, $90, $37, $00, $04, $82, $01, $86, $91, $5F
      	db	$00, $06, $90, $43, $01, $8A, $81, $00, $03, $91, $5B, $00
      	db	$C5, $92, $5D, $00, $03, $81, $00, $C1, $91, $5F, $00, $04
      	db	$82, $00, $C4, $91, $5B, $00, $C8, $81, $00, $07, $91, $42
      	db	$00, $03, $92, $5D, $80, $01, $8A, $90, $56, $00, $06, $82
      	db	$00, $BB, $92, $58, $00, $07, $80, $00, $C1, $90, $5A, $82
      	db	$00, $0A, $81, $00, $BE, $80, $00, $03, $90, $56, $00, $C8
      	db	$80, $00, $04, $90, $5B, $91, $40, $01, $90, $90, $43, $81
      	db	$00, $06, $91, $58, $00, $C2, $80, $00, $06, $90, $5A, $81
      	db	$00, $C2, $91, $40, $00, $06, $90, $5B, $00, $C2, $92, $56
      	db	$00, $06, $80, $00, $C2, $90, $55, $91, $45, $82, $01, $90
      	db	$80, $00, $03, $90, $53, $00, $C8, $80, $00, $03, $90, $55
      	db	$00, $C2, $81, $00, $06, $90, $51, $91, $39, $01, $2C, $80
      	db	$00, $5E, $90, $45, $00, $06, $81, $00, $04, $91, $51, $00
      	db	$C4, $92, $53, $00, $04, $81, $00, $C1, $91, $55, $00, $03
      	db	$82, $00, $C5, $91, $56, $00, $C8, $81, $00, $03, $91, $58
      	db	$00, $C8, $91, $5A, $00, $C2, $80, $00, $03, $90, $47, $00
      	db	$03, $91, $5B, $00, $61, $80, $00, $03, $81, $01, $26, $90
      	db	$4A, $00, $06, $91, $5A, $00, $5E, $80, $00, $06, $81, $01
      	db	$2C, $90, $49, $00, $04, $91, $58, $00, $60, $80, $00, $04
      	db	$81, $01, $28, $90, $4A, $00, $04, $91, $5A, $00, $60, $80
      	db	$00, $04, $81, $01, $28, $90, $42, $00, $04, $91, $51, $00
      	db	$60, $80, $00, $04, $81, $01, $28, $90, $55, $91, $45, $00
      	db	$64, $80, $81, $01, $2C, $90, $56, $91, $4A, $01, $90, $91
      	db	$3E, $01, $8A, $92, $48, $00, $06, $81, $00, $C8, $80, $00
      	db	$C2, $90, $56, $82, $00, $06, $91, $47, $01, $8A, $90, $4F
      	db	$92, $4A, $00, $C8, $90, $4E, $00, $6A, $81, $00, $5E, $80
      	db	$00, $06, $90, $4F, $91, $47, $00, $C2, $82, $00, $06, $81
      	db	$00, $C2, $91, $58, $00, $06, $90, $48, $01, $8A, $91, $4F
      	db	$00, $06, $92, $4C, $00, $BB, $93, $4E, $00, $07, $81, $00
      	db	$6A, $80, $00, $57, $83, $00, $07, $90, $48, $00, $03, $91
      	db	$4F, $00, $C5, $80, $00, $06, $82, $00, $C2, $90, $56, $92
      	db	$47, $00, $03, $81, $01, $86, $91, $54, $00, $06, $90, $45
      	db	$82, $01, $8A, $81, $00, $06, $80, $00, $04, $90, $43, $00
      	db	$03, $91, $53, $01, $83, $92, $51, $00, $0A, $80, $00, $03
      	db	$90, $4A, $81, $00, $BB, $91, $4F, $82, $00, $C8, $91, $4E
      	db	$00, $C8, $81, $00, $06, $91, $4F, $00, $C8, $91, $51, $01
      	db	$2C, $81, $00, $07, $80, $00, $5D, $90, $4A, $00, $04, $91
      	db	$3E, $00, $C4, $90, $4C, $00, $C5, $92, $4E, $00, $03, $80
      	db	$00, $C5, $82, $00, $03, $90, $4F, $00, $C8, $90, $51, $00
      	db	$C5, $92, $53, $00, $03, $80, $00, $04, $81, $00, $C1, $90
      	db	$54, $82, $00, $03, $91, $40, $00, $62, $80, $00, $03, $81
      	db	$01, $34, $90, $53, $91, $43, $00, $6C, $80, $81, $01, $49
      	db	$90, $42, $00, $04, $91, $51, $00, $70, $80, $00, $03, $81
      	db	$01, $6B, $90, $53, $91, $43, $00, $FB, $90, $56, $01, $05
      	db	$80, $81, $00, $05, $90, $3B, $00, $04, $91, $4F, $01, $0D
      	db	$80, $01, $18, $90, $3E, $00, $05, $92, $4E, $00, $05, $81
      	db	$01, $20, $80, $01, $3E, $82, $00, $05, $90, $4F, $91, $4A
      	db	$92, $47, $93, $43, $01, $4A, $83, $01, $5C, $93, $3E, $01
      	db	$65, $83, $01, $7C, $93, $37, $0A, $23, $80, $81, $82, $00
      	db	$15, $83
      	db	$F0        
        end     start
